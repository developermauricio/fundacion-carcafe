!function(e){var t={};function p(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,p),a.l=!0,a.exports}p.m=e,p.c=t,p.d=function(e,t,n){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,t){if(1&t&&(e=p(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(p.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)p.d(n,a,function(t){return e[t]}.bind(null,a));return n},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="",p(p.s=2)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){e.exports=function(e,t,p){return t in e?Object.defineProperty(e,t,{value:p,enumerable:!0,configurable:!0,writable:!0}):e[t]=p,e}},function(e,t,p){"use strict";p.r(t);var n=p(1),a=p.n(n),o=p(0),l=wp.i18n.__,r=wp.plugins.registerPlugin,u=wp.element.Fragment,i=wp.components,s=i.PanelBody,c=i.PanelRow,b=i.SelectControl,d=i.TextControl,m=i.CheckboxControl,f=wp.editPost.PluginSidebar,w=wp.data,g=w.withSelect,h=w.withDispatch,y=w.select,v=wp.compose.compose,O=wp.domReady,j=function(){return"wp_popup"===y("core/editor").getCurrentPostType()?null:Object(o.createElement)(u,null,Object(o.createElement)(f,{name:"plugin-sidebar-test",title:l("Add a WP Popup","wp-popup"),icon:"slides"},Object(o.createElement)(s,{title:l("Settings","wp-popup")},Object(o.createElement)(c,null,Object(o.createElement)(V,{label:l("Select a Popup to display on this page.","wp-popup"),metaKey:"wp_popup_display_lightbox"})),Object(o.createElement)(c,null,Object(o.createElement)(E,{label:l("Once Seen","wp-popup"),metaKey:"wp_popup_suppress",selectOptions:[{value:"always",label:l("Never show it to that user again","wp-popup")},{value:"session",label:l("Don't show again during the user's current browser session","wp-popup")},{value:"wait-7",label:l("Wait a week before showing it again","wp-popup")},{value:"wait-30",label:l("Wait 30 days before showing it again","wp-popup")},{value:"wait-90",label:l("Wait 90 days before showing it again","wp-popup")},{value:"never",label:l("Keep showing it","wp-popup")}],help:l("What should happen after a user sees this popup? Note: This setting may be overridden when a user clears their cookies.","wp-popup")})),Object(o.createElement)(c,null,Object(o.createElement)(E,{label:l("Trigger","wp-popup"),metaKey:"wp_popup_trigger",selectOptions:[{value:"immediate",label:l("Immediately on page load","wp-popup")},{value:"delay",label:l("N seconds after load (specify)","wp-popup")},{value:"scroll",label:l("After page is scrolled N pixels (specify)","wp-popup")},{value:"scroll-half",label:l("After page is scrolled halfway","wp-popup")},{value:"scroll-full",label:l("After page is scrolled to bottom","wp-popup")},{value:"minutes",label:l("After N minutes spent on site this visit (specify)","wp-popup")},{value:"pages",label:l("Once N pages have been visited in last 90 days (specify)","wp-popup")}],help:l("When does the popup appear?","wp-popup")})),Object(o.createElement)(c,null,Object(o.createElement)(_,{label:l("Trigger Amount","wp-popup"),metaKey:"wp_popup_trigger_amount",help:l('Specify the precise quantity/time/amount/number ("N") for the trigger.',"wp-popup")})),Object(o.createElement)(c,null,Object(o.createElement)(P,{label:l("Disable on Mobile","wp-popup"),metaKey:"wp_popup_disable_on_mobile",help:l("Check this box to suppress this popup on mobile devices. (Recommended)","wp-popup")})))))},P=v(h((function(e,t){return{setMetaValue:function(p){e("core/editor").editPost({meta:a()({},t.metaKey,p)})}}})),g((function(e,t){return{metaValue:e("core/editor").getEditedPostAttribute("meta")[t.metaKey]}})))((function(e){return Object(o.createElement)(m,{label:e.label,value:e.metaValue,checked:e.metaValue,onChange:function(t){return e.setMetaValue(t)},help:e.help})})),_=v(h((function(e,t){return{setMetaValue:function(p){e("core/editor").editPost({meta:a()({},t.metaKey,p)})}}})),g((function(e,t){return{metaValue:e("core/editor").getEditedPostAttribute("meta")[t.metaKey]}})))((function(e){return Object(o.createElement)(d,{label:e.label,value:e.metaValue,onChange:function(t){return e.setMetaValue(t)},help:e.help})})),E=v(h((function(e,t){return{setMetaValue:function(p){e("core/editor").editPost({meta:a()({},t.metaKey,p)})}}})),g((function(e,t){return{metaValue:e("core/editor").getEditedPostAttribute("meta")[t.metaKey]}})))((function(e){return Object(o.createElement)(b,{label:e.label,value:e.metaValue,options:e.selectOptions,onChange:function(t){return e.setMetaValue(t)},help:e.help})})),V=v(h((function(e,t){return{setMetaValue:function(p){e("core/editor").editPost({meta:a()({},t.metaKey,p)})}}})),g((function(e,t){return{posts:e("core").getEntityRecords("postType","wp_popup",{per_page:-1}),metaValue:e("core/editor").getEditedPostAttribute("meta")[t.metaKey]}})))((function(e){var t=[];return e.posts?(t.push({value:0,label:l("Select a WP Popup","wp-popup")}),e.posts.forEach((function(e){t.push({value:e.id,label:e.title.rendered})}))):t.push({value:0,label:l("Loading...","wp-popup")}),Object(o.createElement)(b,{label:e.label,value:e.metaValue,options:t,onChange:function(t){return e.setMetaValue(t)}})}));O((function(){r("wp-popup-plugin-sidebar",{render:j})}))}]);